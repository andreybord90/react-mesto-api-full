{"version":3,"sources":["image/__logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","image/agree.svg","image/failure.svg","components/InfoToolTip.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","utils/api.js","contexts/CurrentUserContext.js","utils/auth.js","components/App.js","index.js"],"names":["Header","loggedIn","location","onLogout","email","text","href","className","src","logo","alt","onClick","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","console","log","type","link","name","length","Main","cards","onEditProfile","onAddPlace","onEditAvatar","aria-label","avatar","about","map","Footer","PopupWithForm","title","isOpen","onClose","children","useClosePopup","useClosePopupByEscape","onSubmit","noValidate","EditProfilePopup","onUpdateUser","React","useState","setName","description","setDescription","useEffect","e","preventDefault","placeholder","required","minLength","maxLength","autoComplete","id","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setLink","ImagePopup","InfoToolTip","isSuccess","agree","failure","Login","login","setEmail","password","setPassword","Register","register","ProtectedRoute","to","api","url","headers","this","_url","_headers","res","ok","json","Promise","reject","token","fetch","credentials","mode","then","_checkResponse","cardId","method","authorization","body","JSON","stringify","notLiked","setCardLike","removeCardLike","localStorage","getItem","Accept","Origin","CurrentUserContext","createContext","AUTH_URL","App","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","navigate","useNavigate","useLocation","handleTokenCheck","path","Authorization","data","catch","err","tokenValidate","pathname","all","getUserInfo","getCards","dataProfile","dataUser","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isInfoToolTipOpen","setisInfoToolTipOpen","setIsSuccess","closeAllPopups","closeByEsc","key","document","addEventListener","removeEventListener","overlayClassName","closeButtonClassName","handleClose","classList","contains","Provider","evt","removeItem","element","response","status","message","setItem","exact","changeLikeCardStatus","newCard","state","c","deleteCard","filter","changeUserInfo","updateUserAvatar","insertCard","Boolean","Object","keys","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ee7bbffd.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/__logo.03b78ada.svg\";","import React from \"react\";\nimport logo from \"../image/__logo.svg\";\n\nfunction Header({ loggedIn, location, onLogout, email }) {\n  let text = \"\";\n  let href = \"\";\n  if (location === \"/sign-in\") {\n    text = \"Регистрация\";\n    href = \"/sign-up\";\n  }\n  if (location === \"/sign-up\") {\n    text = \"Войти\";\n    href = \"/sign-in\";\n  }\n  if (loggedIn && location === \"/\") {\n    text = \"Выйти\";\n  }\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logo} alt=\"Лого\" />\n      <div className=\"header__wrapper\">\n        {loggedIn && email && <div className=\"header__email\">{email}</div>}\n        <a\n          className=\"auth__button-enter\"\n          href={href}\n          onClick={loggedIn ? onLogout : null}\n        >\n          {text}\n        </a>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete, currentUser }) {\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  const isOwn = card.owner._id === currentUser._id;\n\n  const cardDeleteButtonClassName = `${\n    isOwn ? \"element__delete\" : \"element__delete_none\"\n  }`;\n\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `${\n    !isLiked ? \"element__like\" : \"element__like element__like_active\"\n  }`;\n  console.log(\"card\", card);\n  return (\n    <>\n      <div className=\"element\">\n        <button\n          className={cardDeleteButtonClassName}\n          type=\"button\"\n          onClick={handleDeleteClick}\n        ></button>\n        <div className=\"element__image-container\">\n          <img\n            className=\"element__image\"\n            src={card.link}\n            alt={card.name}\n            onClick={handleClick}\n          />\n        </div>\n        <div className=\"element__info\">\n          <h2 className=\"element__name\">{card.name}</h2>\n          <div className=\"element__wrapper-like\">\n            <button\n              className={cardLikeButtonClassName}\n              type=\"button\"\n              onClick={handleLikeClick}\n            ></button>\n            <p className=\"element__count-like\">{card.likes?.length}</p>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\n\nfunction Main({\n  cards,\n  onEditProfile,\n  onAddPlace,\n  onEditAvatar,\n  onCardClick,\n  onCardLike,\n  onCardDelete,\n  currentUser,\n}) {\n  return (\n    <main>\n      <section className=\"profile\">\n        <button\n          className=\"profile__edit-avatar\"\n          type=\"button\"\n          aria-label=\"кнопка редактирования аватара\"\n          onClick={onEditAvatar}\n        >\n          <img\n            className=\"profile__avatar\"\n            alt=\"Аватар\"\n            src={currentUser.avatar}\n          />\n        </button>\n        <div className=\"profile__info\">\n          <div className=\"profile__wrapper\">\n            <h1 className=\"profile__name\">{currentUser?.name}</h1>\n            <button\n              className=\"profile__button\"\n              type=\"button\"\n              aria-label=\"кнопка редактировать профиль\"\n              onClick={onEditProfile}\n            ></button>\n          </div>\n          <p className=\"profile__job\">{currentUser.about}</p>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          type=\"button\"\n          aria-label=\"кнопка добавить контент\"\n          onClick={onAddPlace}\n        ></button>\n      </section>\n      <section className=\"elements\">\n        {cards?.map((card) => {\n          return (\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              onCardDelete={onCardDelete}\n              currentUser={currentUser}\n            />\n          );\n        })}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">2021 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction PopupWithForm({\n  name,\n  title,\n  isOpen,\n  onClose,\n  children,\n  useClosePopup,\n  useClosePopupByEscape,\n  onSubmit,\n}) {\n  useClosePopup(\"popup_opened\", \"popup__exit\", onClose, isOpen);\n  useClosePopupByEscape(isOpen);\n\n  return (\n    <>\n      <div\n        className={`popup popup_type_${name} ${isOpen ? \"popup_opened\" : \"\"} `}\n      >\n        <div className=\"popup__container\">\n          <button\n            className={`popup__exit popup__exit_type_${name}`}\n            type=\"button\"\n          ></button>\n          <form\n            className={`popup__form popup__form_type_${name}`}\n            name=\"popup__form\"\n            noValidate\n            onSubmit={onSubmit}\n          >\n            <h2 className={`popup__title `}> {title}</h2>\n            {children}\n          </form>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditProfilePopup({\n  isOpen,\n  onClose,\n  useClosePopup,\n  useClosePopupByEscape,\n  onUpdateUser,\n  currentUser,\n}) {\n  const [name, setName] = React.useState(\"\");\n  const handleChangeName = (e) => {\n    setName(e.target.value);\n  };\n\n  const [description, setDescription] = React.useState(\"\");\n  const handleChangeDescription = (e) => {\n    setDescription(e.target.value);\n  };\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, isOpen]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  };\n\n  return (\n    <>\n      <PopupWithForm\n        name=\"edit\"\n        title=\"Редактировать профиль\"\n        isOpen={isOpen}\n        onClose={onClose}\n        useClosePopup={useClosePopup}\n        useClosePopupByEscape={useClosePopupByEscape}\n        onSubmit={handleSubmit}\n      >\n        <input\n          type=\"text\"\n          className=\"popup__text popup__text_type_name\"\n          name=\"name\"\n          placeholder=\"Имя\"\n          required\n          minLength=\"2\"\n          maxLength=\"40\"\n          autoComplete=\"off\"\n          id=\"name\"\n          value={name || \"\"}\n          onChange={handleChangeName}\n        />\n        <span className=\"popup__text-error\" id=\"name-error\"></span>\n        <input\n          type=\"text\"\n          className=\"popup__text popup__text_type_job\"\n          name=\"about\"\n          placeholder=\"Профессиональная деятельность\"\n          required\n          minLength=\"2\"\n          maxLength=\"40\"\n          autoComplete=\"off\"\n          id=\"job\"\n          value={description || \"\"}\n          onChange={handleChangeDescription}\n        />\n        <span className=\"popup__text-error\" id=\"job-error\"></span>\n        <button\n          className=\"popup__button\"\n          type=\"submit\"\n          aria-label=\"кнопка сохранить\"\n        >\n          Сохранить\n        </button>\n      </PopupWithForm>\n    </>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n// import { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditAvatarPopup({\n  isOpen,\n  onClose,\n  useClosePopup,\n  useClosePopupByEscape,\n  onUpdateAvatar,\n}) {\n  const avatarRef = React.useRef();\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  };\n\n  React.useEffect(() => {\n    if (!isOpen) {\n      avatarRef.current.value = \"\";\n    }\n  }, [isOpen]);\n  return (\n    <>\n      <PopupWithForm\n        name=\"avatar\"\n        title=\"Обновить аватар\"\n        isOpen={isOpen}\n        onClose={onClose}\n        useClosePopup={useClosePopup}\n        useClosePopupByEscape={useClosePopupByEscape}\n        onSubmit={handleSubmit}\n      >\n        <input\n          type=\"url\"\n          className=\"popup__text popup__text_type_avatar\"\n          name=\"avatar\"\n          required\n          minLength=\"2\"\n          autoComplete=\"off\"\n          id=\"avatar\"\n          placeholder=\"Ссылка на аватар\"\n          ref={avatarRef}\n        />\n        <span className=\"popup__text-error\" id=\"avatar-error\"></span>\n        <button\n          className=\"popup__button popup__button_type_avatar\"\n          type=\"submit\"\n          aria-label=\"кнопка Сохранить\"\n        >\n          Сохранить\n        </button>\n      </PopupWithForm>\n    </>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({\n  isOpen,\n  onClose,\n  useClosePopup,\n  useClosePopupByEscape,\n  onAddPlace,\n}) {\n  const [name, setName] = React.useState(\"\");\n  const handleChangeName = (e) => {\n    setName(e.target.value);\n  };\n\n  const [link, setLink] = React.useState(\"\");\n  const handleChangeLink = (e) => {\n    setLink(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    onAddPlace({\n      name,\n      link,\n    });\n  };\n\n  React.useEffect(() => {\n    if (!isOpen) {\n      setName(\"\");\n      setLink(\"\");\n    }\n  }, [isOpen]);\n\n  return (\n    <>\n      <PopupWithForm\n        name=\"add\"\n        title=\"Новое место\"\n        isOpen={isOpen}\n        onClose={onClose}\n        useClosePopup={useClosePopup}\n        useClosePopupByEscape={useClosePopupByEscape}\n        onSubmit={handleSubmit}\n      >\n        <input\n          type=\"text\"\n          className=\"popup__text popup__text_type_sign\"\n          name=\"name\"\n          placeholder=\"Название\"\n          required\n          minLength=\"2\"\n          maxLength=\"30\"\n          id=\"sign\"\n          autoComplete=\"off\"\n          value={name || \"\"}\n          onChange={handleChangeName}\n        />\n        <span className=\"popup__text-error\" id=\"sign-error\"></span>\n        <input\n          autoComplete=\"off\"\n          type=\"url\"\n          className=\"popup__text popup__text_type_url\"\n          name=\"link\"\n          placeholder=\"Ссылка на картинку\"\n          required\n          id=\"url\"\n          value={link || \"\"}\n          onChange={handleChangeLink}\n        />\n        <span className=\"popup__text-error\" id=\"url-error\"></span>\n        <button\n          className=\"popup__button popup__button_type_add\"\n          type=\"submit\"\n          aria-label=\"кнопка создать\"\n        >\n          Создать\n        </button>\n      </PopupWithForm>\n    </>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\n// import { useEffect } from \"react\";\n\nfunction ImagePopup({\n  card,\n  onClose,\n  useClosePopup,\n  isOpen,\n  useClosePopupByEscape,\n}) {\n  useClosePopup(\"popup_opened\", \"popup__exit\", onClose, isOpen);\n  useClosePopupByEscape(isOpen);\n\n  return (\n    <>\n      <div\n        className={`popup popup_type_image ${card.link ? \"popup_opened\" : \"\"}`}\n      >\n        <div className=\"popup__container popup__container_type_image\">\n          <button\n            className={`popup__exit popup__exit_type_image`}\n            type=\"button\"\n          ></button>\n          <div className=\"popup__wrapper-image\" name=\"popup__image\">\n            <img src={card.link} alt={card.name} className=\"popup__image\" />\n          </div>\n          <h2 className=\"popup__title popup__title_type_image\">{card.name}</h2>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default ImagePopup;\n","export default __webpack_public_path__ + \"static/media/agree.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/failure.df8eddf6.svg\";","import React from \"react\";\n// import { useEffect } from \"react\";\nimport agree from \"../image/agree.svg\";\nimport failure from \"../image/failure.svg\";\n\nfunction InfoToolTip({\n  onClose,\n  useClosePopup,\n  isOpen,\n  useClosePopupByEscape,\n  isSuccess,\n}) {\n  useClosePopup(\"popup_opened\", \"popup__exit\", onClose, isOpen);\n  useClosePopupByEscape(isOpen);\n\n  return (\n    <>\n      <div className={`popup  ${isOpen ? \"popup_opened\" : \"\"} `}>\n        <div className=\"popup__container\">\n          <button\n            className={\"popup__exit popup__exit_type_auth\"}\n            type=\"button\"\n          ></button>\n          <form className={`popup__form `} name=\"popup__form\" noValidate>\n            {/* <img className=\"header__logo\" src={logo} alt=\"Лого\" /> */}\n            <img\n              className=\"popup__auth-img\"\n              src={isSuccess ? agree : failure}\n              alt=\"Лого\"\n            />\n\n            <h2 className={`popup__title_type_auth`}>\n              {isSuccess\n                ? \"Вы успешно зарегистрировались\"\n                : `Что-то пошло не так! Попробуйте ещё раз.`}\n            </h2>\n          </form>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default InfoToolTip;\n","import React from \"react\";\n\nfunction Login({ login }) {\n  const [email, setEmail] = React.useState(\"\");\n  const handleInputEmail = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const [password, setPassword] = React.useState(\"\");\n  const handleInputPassword = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (!email || !password) {\n      return;\n    }\n    login({\n      password,\n      email,\n    });\n\n    setEmail(\"\");\n    setPassword(\"\");\n  };\n\n  return (\n    <div className=\"auth\">\n      <div className=\"auth__wrapper\">\n        <form\n          className=\"auth__form\"\n          name=\"auth__form\"\n          noValidate\n          onSubmit={handleSubmit}\n        >\n          <h2 className=\"auth__title\"> Вход</h2>\n          <input\n            type=\"email\"\n            className=\"auth__input\"\n            name=\"email\"\n            placeholder=\"Email\"\n            required\n            minLength=\"2\"\n            maxLength=\"40\"\n            autoComplete=\"off\"\n            id=\"name\"\n            value={email || \"\"}\n            onChange={handleInputEmail}\n          />\n          <span className=\"auth__text-error\" id=\"email-error\"></span>\n          <input\n            type=\"password\"\n            className=\"auth__input \"\n            name=\"password\"\n            placeholder=\"Пароль\"\n            required\n            minLength=\"2\"\n            maxLength=\"40\"\n            autoComplete=\"off\"\n            id=\"password\"\n            value={password || \"\"}\n            onChange={handleInputPassword}\n          />\n          <span className=\"auth__text-error\" id=\"password-error\"></span>\n          <button\n            className=\"auth__button\"\n            type=\"submit\"\n            aria-label=\"кнопка регистрации\"\n          >\n            Войти\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\n\nfunction Register({ register }) {\n  const [email, setEmail] = React.useState(\"\");\n  const handleInputEmail = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const [password, setPassword] = React.useState(\"\");\n  const handleInputPassword = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    register({\n      password,\n      email,\n    });\n    setEmail(\"\");\n    setPassword(\"\");\n  };\n\n  return (\n    <div className=\"auth\">\n      <div className=\"auth__wrapper\">\n        <form\n          className=\"auth__form\"\n          name=\"auth__form\"\n          noValidate\n          onSubmit={handleSubmit}\n        >\n          <h2 className=\"auth__title\">Регистрация </h2>\n          <input\n            type=\"email\"\n            className=\"auth__input\"\n            name=\"email\"\n            placeholder=\"Email\"\n            required\n            minLength=\"2\"\n            maxLength=\"40\"\n            autoComplete=\"off\"\n            id=\"name\"\n            value={email || \"\"}\n            onChange={handleInputEmail}\n          />\n          <span className=\"auth__text-error\" id=\"email-error\"></span>\n          <input\n            type=\"password\"\n            className=\"auth__input \"\n            name=\"password\"\n            placeholder=\"Пароль\"\n            required\n            minLength=\"2\"\n            maxLength=\"40\"\n            autoComplete=\"off\"\n            id=\"password\"\n            value={password || \"\"}\n            onChange={handleInputPassword}\n          />\n          <span className=\"auth__text-error\" id=\"password-error\"></span>\n          <button\n            className=\"auth__button\"\n            type=\"submit\"\n            aria-label=\"кнопка регистрации\"\n          >\n            Зарегистрироваться\n          </button>\n          <p>\n            Уже зарегистрированы?{\" \"}\n            <a\n              className=\"auth__button-enter\"\n              type=\"submit\"\n              aria-label=\"кнопка перехода\"\n              href=\"/sign-in\"\n            >\n              Войти\n            </a>\n          </p>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Register;\n","import React from \"react\";\nimport { Navigate } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ loggedIn, children }) => {\n  return loggedIn ? children : <Navigate to=\"./sign-in\" />;\n};\n\nexport default ProtectedRoute;\n","class Api {\n  constructor({ url, headers }) {\n    this._url = url;\n    this._headers = headers;\n  }\n  _checkResponse(res) {\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res}`);\n  }\n\n  getCards(token) {\n    const headers = this._headers;\n    headers[\"authorization\"] = `Bearer ${token}`;\n    return fetch(`${this._url}/cards`, {\n      headers,\n      credentials: \"include\",\n      mode: \"cors\",\n    }).then((res) => this._checkResponse(res));\n  }\n\n  getUserInfo(token) {\n    console.log(\"data_________\", token);\n    const headers = this._headers;\n    headers[\"authorization\"] = `Bearer ${token}`;\n    return fetch(`${this._url}/users/me`, {\n      headers,\n      credentials: \"include\",\n      mode: \"cors\",\n    }).then((res) => this._checkResponse(res));\n  }\n\n  setCardLike(cardId, token) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: \"PUT\",\n      headers: {\n        authorization: `Bearer ${token}`,\n        ...this._headers,\n      },\n      credentials: \"include\",\n      mode: \"cors\",\n    }).then((res) => this._checkResponse(res));\n  }\n\n  removeCardLike(cardId, token) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: `Bearer ${token}`,\n        ...this._headers,\n      },\n      credentials: \"include\",\n      mode: \"cors\",\n    }).then((res) => this._checkResponse(res));\n  }\n  changeUserInfo({ name, about }, token) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: `Bearer ${token}`,\n        ...this._headers,\n      },\n      credentials: \"include\",\n      mode: \"cors\",\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    }).then((res) => this._checkResponse(res));\n  }\n  //Добавление карточки\n  insertCard({ name, link }, token) {\n    return fetch(`${this._url}/cards `, {\n      method: \"POST\",\n      headers: {\n        authorization: `Bearer ${token}`,\n        ...this._headers,\n      },\n      credentials: \"include\",\n      mode: \"cors\",\n\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    }).then((res) => this._checkResponse(res));\n  }\n  //Удаление карточки\n  deleteCard(cardId, token) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: `Bearer ${token}`,\n        ...this._headers,\n      },\n      credentials: \"include\",\n      mode: \"cors\",\n    }).then((res) => this._checkResponse(res));\n  }\n  updateUserAvatar(avatar, token) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: `Bearer ${token}`,\n        ...this._headers,\n      },\n      credentials: \"include\",\n      mode: \"cors\",\n      body: JSON.stringify({\n        avatar,\n      }),\n    }).then((res) => this._checkResponse(res));\n  }\n  changeLikeCardStatus(cardId, notLiked) {\n    if (notLiked) {\n      return this.setCardLike(cardId);\n    } else {\n      return this.removeCardLike(cardId);\n    }\n  }\n}\n\nconst api = new Api({\n  url: \"https://api.andrey.students.nomoredomains.work\",\n  headers: {\n    // authorization: \"328ef2cf-f132-4d2f-959f-88c97b356965\",\n    authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n    \"Content-Type\": \"application/json\",\n    Accept: \"application/json\",\n    Origin: \"*\",\n  },\n});\n\nexport default api;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","export const AUTH_URL = \"https://api.andrey.students.nomoredomains.work\";\n\nexport const register = ({ password, email }) => {\n  return fetch(`${AUTH_URL}/signup`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\",\n      Origin: \"*\",\n    },\n    mode: \"cors\",\n    credentials: \"include\",\n    body: JSON.stringify({ password, email }),\n  })\n    .then((response) => {\n      try {\n        if (response.status === 201) {\n          return response.json();\n        }\n      } catch (e) {\n        return { e, message: \"некорректно заполнено одно из полей\" };\n      }\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const login = ({ password, email }) => {\n  return fetch(`${AUTH_URL}/signin`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\",\n      Origin: \"*\",\n    },\n    mode: \"cors\",\n    credentials: \"include\",\n    body: JSON.stringify({ password, email }),\n  })\n    .then((response) => {\n      try {\n        if (response.status === 200) {\n          return response.json();\n        }\n      } catch (e) {\n        return e;\n      }\n    })\n\n    .catch((err) => console.log(err));\n};\n\nexport const tokenValidate = (token) => {\n  return fetch(`${AUTH_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n      Origin: \"*\",\n    },\n    mode: \"cors\",\n    credentials: \"include\",\n  })\n    .then((res) => res.json())\n    .then((data) => data)\n    .catch((err) => console.log(err));\n};\n","import React from \"react\";\nimport { useEffect } from \"react\";\nimport {\n  Route,\n  Routes,\n  useNavigate,\n  useLocation,\n  Navigate,\n} from \"react-router-dom\";\n\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport InfoToolTip from \"./InfoToolTip\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { tokenValidate, register, login } from \"../utils/auth\";\n\nfunction App() {\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [email, setEmail] = React.useState(\"\");\n\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const handleTokenCheck = (path) => {\n    if (localStorage.getItem(\"jwt\")) {\n      const token = localStorage.getItem(\"jwt\");\n      // проверяем токен пользователя\n      tokenValidate(token)\n        .then((res) => {\n          if (res) {\n            setLoggedIn(true);\n            navigate(path);\n\n            setEmail(res.email);\n          }\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n\n  const handleLogin = ({ password, email }) => {\n    login({\n      password,\n      email,\n    })\n      .then((res) => {\n        if (res) {\n          localStorage.setItem(\"jwt\", res.token);\n          console.log(\"login\", localStorage.getItem(\"jwt\"));\n\n          setLoggedIn(true);\n          setEmail(email);\n\n          navigate(\"/\");\n        } else {\n          setIsSuccess(false);\n          setisInfoToolTipOpen(true);\n        }\n      })\n      .catch((err) => {\n        setIsSuccess(false);\n        setisInfoToolTipOpen(true);\n        console.log(err);\n      });\n  };\n\n  const handleLogout = (evt) => {\n    evt.preventDefault();\n\n    localStorage.removeItem(\"jwt\");\n    setLoggedIn(false);\n    navigate(\"/login\");\n  };\n  //Запрос данных с сервера\n  useEffect(() => {\n    handleTokenCheck(location.pathname);\n    if (loggedIn) {\n      Promise.all([\n        api.getUserInfo(localStorage.getItem(\"jwt\")),\n        api.getCards(localStorage.getItem(\"jwt\")),\n      ])\n        .then(([dataProfile, dataUser]) => {\n          setCurrentUser(dataProfile);\n          setCards(dataUser);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }, [loggedIn]);\n\n  //функция обновления данных User\n\n  const handleUpdateUser = ({ name, about }) => {\n    api\n      .changeUserInfo({ name, about }, localStorage.getItem(\"jwt\"))\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  //функция обновления данных avatar\n\n  const handleUpdateAvatar = ({ avatar }) => {\n    api\n      .updateUserAvatar(avatar, localStorage.getItem(\"jwt\"))\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  //Обработчики кликов\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  };\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  };\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  };\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  };\n\n  //Добавление карточки\n  const handleAddPlaceSubmit = (data) => {\n    api\n      .insertCard(data, localStorage.getItem(\"jwt\"))\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  //лайк на карточке\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // Удаление карточки\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id, localStorage.getItem(\"jwt\"))\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  //стейты\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\n    React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\n    React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isInfoToolTipOpen, setisInfoToolTipOpen] = React.useState(false);\n  const [isSuccess, setIsSuccess] = React.useState(false);\n\n  //Закртыие попапов\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setisInfoToolTipOpen(false);\n    setSelectedCard({});\n  };\n\n  //хук закрытия\n  const useClosePopupByEscape = (isOpen) => {\n    const closeByEsc = (e) => {\n      if (e.key === \"Escape\") {\n        closeAllPopups();\n      }\n    };\n    useEffect(() => {\n      if (isOpen) {\n        document.addEventListener(\"keydown\", closeByEsc);\n        return () => document.removeEventListener(\"keydown\", closeByEsc);\n      }\n    }, [isOpen]);\n  };\n  const useClosePopup = (\n    overlayClassName,\n    closeButtonClassName,\n    onClose,\n    isOpen\n  ) => {\n    const handleClose = (e) => {\n      if (\n        e.target.classList.contains(overlayClassName /*\"popup_opened\"*/) ||\n        e.target.classList.contains(closeButtonClassName /*\"popup__exit\"*/)\n      ) {\n        onClose();\n      }\n    };\n    useEffect(() => {\n      if (isOpen) {\n        document.addEventListener(\"click\", handleClose);\n        return (e) => {\n          document.removeEventListener(\"click\", handleClose);\n        };\n      }\n    }, [isOpen]);\n  };\n\n  const handleRegister = ({ password, email }) => {\n    register({\n      password,\n      email,\n    })\n      .then((res) => {\n        if (res) {\n          setIsSuccess(true);\n          setisInfoToolTipOpen(true);\n          navigate(\"/\");\n        } else {\n          setIsSuccess(false);\n          setisInfoToolTipOpen(true);\n        }\n      })\n      .catch((err) => {\n        setIsSuccess(false);\n        setisInfoToolTipOpen(true);\n        console.log(err);\n      });\n  };\n\n  return (\n    <CurrentUserContext.Provider value={{ currentUser }}>\n      <div className=\"page\">\n        <div className=\"wrapper\">\n          <Header\n            loggedIn={loggedIn}\n            location={location.pathname}\n            onLogout={handleLogout}\n            email={email}\n          />\n          <Routes>\n            <Route\n              path=\"/sign-up\"\n              element={<Register register={handleRegister} />}\n            />\n            <Route path=\"/sign-in\" element={<Login login={handleLogin} />} />\n            <Route\n              exact\n              path=\"/\"\n              element={\n                <ProtectedRoute loggedIn={loggedIn}>\n                  <Main\n                    onEditProfile={handleEditProfileClick}\n                    onAddPlace={handleAddPlaceClick}\n                    onEditAvatar={handleEditAvatarClick}\n                    onCardClick={handleCardClick}\n                    onCardLike={handleCardLike}\n                    onCardDelete={handleCardDelete}\n                    currentUser={currentUser}\n                    cards={cards}\n                  />\n                </ProtectedRoute>\n              }\n            />\n            <Route path=\"*\" element={<Navigate to=\"/\" />} />\n          </Routes>\n\n          <Footer />\n        </div>\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          useClosePopup={useClosePopup}\n          useClosePopupByEscape={useClosePopupByEscape}\n          onUpdateUser={handleUpdateUser}\n          currentUser={currentUser}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          useClosePopup={useClosePopup}\n          useClosePopupByEscape={useClosePopupByEscape}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          useClosePopup={useClosePopup}\n          useClosePopupByEscape={useClosePopupByEscape}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n        <InfoToolTip\n          isOpen={isInfoToolTipOpen}\n          onClose={closeAllPopups}\n          useClosePopup={useClosePopup}\n          useClosePopupByEscape={useClosePopupByEscape}\n          isSuccess={isSuccess}\n        />\n\n        {/* <PopupWithForm\n            name=\"submit\"\n            title=\"Вы уверены\"\n            isOpen={isRemovePlacePopupOpen}\n            onClose={closeAllPopups}\n            useClosePopup={useClosePopup}\n            useClosePopupByEscape={useClosePopupByEscape}\n          >\n            <button\n              className=\"popup__button popup__button_type_submit\"\n              type=\"submit\"\n              aria-label=\"кнопка Удаление\"\n            >\n              Да\n            </button>\n          </PopupWithForm> */}\n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups}\n          useClosePopup={useClosePopup}\n          useClosePopupByEscape={useClosePopupByEscape}\n          isOpen={Boolean(Object.keys(selectedCard).length)}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport { BrowserRouter } from \"react-router-dom\";\n// import reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n"],"sourceRoot":""}