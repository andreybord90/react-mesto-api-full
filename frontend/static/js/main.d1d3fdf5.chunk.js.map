{"version":3,"sources":["image/__logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","image/agree.svg","image/failure.svg","components/InfoToolTip.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","utils/api.js","contexts/CurrentUserContext.js","utils/auth.js","components/App.js","index.js"],"names":["Header","loggedIn","location","onLogout","email","text","href","className","src","logo","alt","onClick","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","link","name","length","Main","cards","onEditProfile","onAddPlace","onEditAvatar","console","log","aria-label","avatar","about","map","Footer","PopupWithForm","title","isOpen","onClose","children","useClosePopup","useClosePopupByEscape","onSubmit","noValidate","EditProfilePopup","onUpdateUser","React","useState","setName","description","setDescription","useEffect","e","preventDefault","placeholder","required","minLength","maxLength","autoComplete","id","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setLink","ImagePopup","InfoToolTip","isSuccess","agree","failure","Login","login","setEmail","password","setPassword","Register","register","ProtectedRoute","to","api","url","headers","this","_url","_headers","res","ok","json","Promise","reject","token","authorization","fetch","credentials","mode","then","_checkResponse","data","cardId","method","body","JSON","stringify","notLiked","setCardLike","removeCardLike","localStorage","getItem","Accept","Origin","CurrentUserContext","createContext","AUTH_URL","App","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","navigate","useNavigate","useLocation","handleTokenCheck","pathname","all","getUserInfo","getCards","dataProfile","dataUser","catch","err","path","Authorization","tokenValidate","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isInfoToolTipOpen","setisInfoToolTipOpen","setIsSuccess","closeAllPopups","closeByEsc","key","document","addEventListener","removeEventListener","overlayClassName","closeButtonClassName","handleClose","classList","contains","Provider","evt","removeItem","element","response","status","message","setItem","exact","changeLikeCardStatus","newCard","state","c","deleteCard","filter","changeUserInfo","updateUserAvatar","insertCard","Boolean","Object","keys","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d1d3fdf5.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/__logo.03b78ada.svg\";","import React from \"react\";\nimport logo from \"../image/__logo.svg\";\n\nfunction Header({ loggedIn, location, onLogout, email }) {\n  let text = \"\";\n  let href = \"\";\n  if (location === \"/sign-in\") {\n    text = \"Регистрация\";\n    href = \"/sign-up\";\n  }\n  if (location === \"/sign-up\") {\n    text = \"Войти\";\n    href = \"/sign-in\";\n  }\n  if (loggedIn && location === \"/\") {\n    text = \"Выйти\";\n  }\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logo} alt=\"Лого\" />\n      <div className=\"header__wrapper\">\n        {loggedIn && email && <div className=\"header__email\">{email}</div>}\n        <a\n          className=\"auth__button-enter\"\n          href={href}\n          onClick={loggedIn ? onLogout : null}\n        >\n          {text}\n        </a>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete, currentUser }) {\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  const isOwn = card.owner._id === currentUser._id;\n\n  const cardDeleteButtonClassName = `${\n    isOwn ? \"element__delete\" : \"element__delete_none\"\n  }`;\n\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `${\n    !isLiked ? \"element__like\" : \"element__like element__like_active\"\n  }`;\n  return (\n    <>\n      <div className=\"element\">\n        <button\n          className={cardDeleteButtonClassName}\n          type=\"button\"\n          onClick={handleDeleteClick}\n        ></button>\n        <div className=\"element__image-container\">\n          <img\n            className=\"element__image\"\n            src={card.link}\n            alt={card.name}\n            onClick={handleClick}\n          />\n        </div>\n        <div className=\"element__info\">\n          <h2 className=\"element__name\">{card.name}</h2>\n          <div className=\"element__wrapper-like\">\n            <button\n              className={cardLikeButtonClassName}\n              type=\"button\"\n              onClick={handleLikeClick}\n            ></button>\n            <p className=\"element__count-like\">{card.likes?.length}</p>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\n\nfunction Main({\n  cards,\n  onEditProfile,\n  onAddPlace,\n  onEditAvatar,\n  onCardClick,\n  onCardLike,\n  onCardDelete,\n  currentUser,\n}) {\n  console.log(\"cards MAIN\", cards);\n  return (\n    <main>\n      <section className=\"profile\">\n        <button\n          className=\"profile__edit-avatar\"\n          type=\"button\"\n          aria-label=\"кнопка редактирования аватара\"\n          onClick={onEditAvatar}\n        >\n          <img\n            className=\"profile__avatar\"\n            alt=\"Аватар\"\n            src={currentUser.avatar}\n          />\n        </button>\n        <div className=\"profile__info\">\n          <div className=\"profile__wrapper\">\n            <h1 className=\"profile__name\">{currentUser?.name}</h1>\n            <button\n              className=\"profile__button\"\n              type=\"button\"\n              aria-label=\"кнопка редактировать профиль\"\n              onClick={onEditProfile}\n            ></button>\n          </div>\n          <p className=\"profile__job\">{currentUser.about}</p>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          type=\"button\"\n          aria-label=\"кнопка добавить контент\"\n          onClick={onAddPlace}\n        ></button>\n      </section>\n      <section className=\"elements\">\n        {cards?.map((card) => {\n          return (\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              onCardDelete={onCardDelete}\n              currentUser={currentUser}\n            />\n          );\n        })}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">2022 Mesto Россия</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction PopupWithForm({\n  name,\n  title,\n  isOpen,\n  onClose,\n  children,\n  useClosePopup,\n  useClosePopupByEscape,\n  onSubmit,\n}) {\n  useClosePopup(\"popup_opened\", \"popup__exit\", onClose, isOpen);\n  useClosePopupByEscape(isOpen);\n\n  return (\n    <>\n      <div\n        className={`popup popup_type_${name} ${isOpen ? \"popup_opened\" : \"\"} `}\n      >\n        <div className=\"popup__container\">\n          <button\n            className={`popup__exit popup__exit_type_${name}`}\n            type=\"button\"\n          ></button>\n          <form\n            className={`popup__form popup__form_type_${name}`}\n            name=\"popup__form\"\n            noValidate\n            onSubmit={onSubmit}\n          >\n            <h2 className={`popup__title `}> {title}</h2>\n            {children}\n          </form>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditProfilePopup({\n  isOpen,\n  onClose,\n  useClosePopup,\n  useClosePopupByEscape,\n  onUpdateUser,\n  currentUser,\n}) {\n  const [name, setName] = React.useState(\"\");\n  const handleChangeName = (e) => {\n    setName(e.target.value);\n  };\n\n  const [description, setDescription] = React.useState(\"\");\n  const handleChangeDescription = (e) => {\n    setDescription(e.target.value);\n  };\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, isOpen]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  };\n\n  return (\n    <>\n      <PopupWithForm\n        name=\"edit\"\n        title=\"Редактировать профиль\"\n        isOpen={isOpen}\n        onClose={onClose}\n        useClosePopup={useClosePopup}\n        useClosePopupByEscape={useClosePopupByEscape}\n        onSubmit={handleSubmit}\n      >\n        <input\n          type=\"text\"\n          className=\"popup__text popup__text_type_name\"\n          name=\"name\"\n          placeholder=\"Имя\"\n          required\n          minLength=\"2\"\n          maxLength=\"40\"\n          autoComplete=\"off\"\n          id=\"name\"\n          value={name || \"\"}\n          onChange={handleChangeName}\n        />\n        <span className=\"popup__text-error\" id=\"name-error\"></span>\n        <input\n          type=\"text\"\n          className=\"popup__text popup__text_type_job\"\n          name=\"about\"\n          placeholder=\"Профессиональная деятельность\"\n          required\n          minLength=\"2\"\n          maxLength=\"40\"\n          autoComplete=\"off\"\n          id=\"job\"\n          value={description || \"\"}\n          onChange={handleChangeDescription}\n        />\n        <span className=\"popup__text-error\" id=\"job-error\"></span>\n        <button\n          className=\"popup__button\"\n          type=\"submit\"\n          aria-label=\"кнопка сохранить\"\n        >\n          Сохранить\n        </button>\n      </PopupWithForm>\n    </>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n// import { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditAvatarPopup({\n  isOpen,\n  onClose,\n  useClosePopup,\n  useClosePopupByEscape,\n  onUpdateAvatar,\n}) {\n  const avatarRef = React.useRef();\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  };\n\n  React.useEffect(() => {\n    if (!isOpen) {\n      avatarRef.current.value = \"\";\n    }\n  }, [isOpen]);\n  return (\n    <>\n      <PopupWithForm\n        name=\"avatar\"\n        title=\"Обновить аватар\"\n        isOpen={isOpen}\n        onClose={onClose}\n        useClosePopup={useClosePopup}\n        useClosePopupByEscape={useClosePopupByEscape}\n        onSubmit={handleSubmit}\n      >\n        <input\n          type=\"url\"\n          className=\"popup__text popup__text_type_avatar\"\n          name=\"avatar\"\n          required\n          minLength=\"2\"\n          autoComplete=\"off\"\n          id=\"avatar\"\n          placeholder=\"Ссылка на аватар\"\n          ref={avatarRef}\n        />\n        <span className=\"popup__text-error\" id=\"avatar-error\"></span>\n        <button\n          className=\"popup__button popup__button_type_avatar\"\n          type=\"submit\"\n          aria-label=\"кнопка Сохранить\"\n        >\n          Сохранить\n        </button>\n      </PopupWithForm>\n    </>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({\n  isOpen,\n  onClose,\n  useClosePopup,\n  useClosePopupByEscape,\n  onAddPlace,\n}) {\n  const [name, setName] = React.useState(\"\");\n  const handleChangeName = (e) => {\n    setName(e.target.value);\n  };\n\n  const [link, setLink] = React.useState(\"\");\n  const handleChangeLink = (e) => {\n    setLink(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    onAddPlace({\n      name,\n      link,\n    });\n  };\n\n  React.useEffect(() => {\n    if (!isOpen) {\n      setName(\"\");\n      setLink(\"\");\n    }\n  }, [isOpen]);\n\n  return (\n    <>\n      <PopupWithForm\n        name=\"add\"\n        title=\"Новое место\"\n        isOpen={isOpen}\n        onClose={onClose}\n        useClosePopup={useClosePopup}\n        useClosePopupByEscape={useClosePopupByEscape}\n        onSubmit={handleSubmit}\n      >\n        <input\n          type=\"text\"\n          className=\"popup__text popup__text_type_sign\"\n          name=\"name\"\n          placeholder=\"Название\"\n          required\n          minLength=\"2\"\n          maxLength=\"30\"\n          id=\"sign\"\n          autoComplete=\"off\"\n          value={name || \"\"}\n          onChange={handleChangeName}\n        />\n        <span className=\"popup__text-error\" id=\"sign-error\"></span>\n        <input\n          autoComplete=\"off\"\n          type=\"url\"\n          className=\"popup__text popup__text_type_url\"\n          name=\"link\"\n          placeholder=\"Ссылка на картинку\"\n          required\n          id=\"url\"\n          value={link || \"\"}\n          onChange={handleChangeLink}\n        />\n        <span className=\"popup__text-error\" id=\"url-error\"></span>\n        <button\n          className=\"popup__button popup__button_type_add\"\n          type=\"submit\"\n          aria-label=\"кнопка создать\"\n        >\n          Создать\n        </button>\n      </PopupWithForm>\n    </>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\n// import { useEffect } from \"react\";\n\nfunction ImagePopup({\n  card,\n  onClose,\n  useClosePopup,\n  isOpen,\n  useClosePopupByEscape,\n}) {\n  useClosePopup(\"popup_opened\", \"popup__exit\", onClose, isOpen);\n  useClosePopupByEscape(isOpen);\n\n  return (\n    <>\n      <div\n        className={`popup popup_type_image ${card.link ? \"popup_opened\" : \"\"}`}\n      >\n        <div className=\"popup__container popup__container_type_image\">\n          <button\n            className={`popup__exit popup__exit_type_image`}\n            type=\"button\"\n          ></button>\n          <div className=\"popup__wrapper-image\" name=\"popup__image\">\n            <img src={card.link} alt={card.name} className=\"popup__image\" />\n          </div>\n          <h2 className=\"popup__title popup__title_type_image\">{card.name}</h2>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default ImagePopup;\n","export default __webpack_public_path__ + \"static/media/agree.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/failure.df8eddf6.svg\";","import React from \"react\";\n// import { useEffect } from \"react\";\nimport agree from \"../image/agree.svg\";\nimport failure from \"../image/failure.svg\";\n\nfunction InfoToolTip({\n  onClose,\n  useClosePopup,\n  isOpen,\n  useClosePopupByEscape,\n  isSuccess,\n}) {\n  useClosePopup(\"popup_opened\", \"popup__exit\", onClose, isOpen);\n  useClosePopupByEscape(isOpen);\n\n  return (\n    <>\n      <div className={`popup  ${isOpen ? \"popup_opened\" : \"\"} `}>\n        <div className=\"popup__container\">\n          <button\n            className={\"popup__exit popup__exit_type_auth\"}\n            type=\"button\"\n          ></button>\n          <form className={`popup__form `} name=\"popup__form\" noValidate>\n            {/* <img className=\"header__logo\" src={logo} alt=\"Лого\" /> */}\n            <img\n              className=\"popup__auth-img\"\n              src={isSuccess ? agree : failure}\n              alt=\"Лого\"\n            />\n\n            <h2 className={`popup__title_type_auth`}>\n              {isSuccess\n                ? \"Вы успешно зарегистрировались\"\n                : `Что-то пошло не так! Попробуйте ещё раз.`}\n            </h2>\n          </form>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default InfoToolTip;\n","import React from \"react\";\n\nfunction Login({ login }) {\n  const [email, setEmail] = React.useState(\"\");\n  const handleInputEmail = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const [password, setPassword] = React.useState(\"\");\n  const handleInputPassword = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (!email || !password) {\n      return;\n    }\n    login({\n      password,\n      email,\n    });\n\n    setEmail(\"\");\n    setPassword(\"\");\n  };\n\n  return (\n    <div className=\"auth\">\n      <div className=\"auth__wrapper\">\n        <form\n          className=\"auth__form\"\n          name=\"auth__form\"\n          noValidate\n          onSubmit={handleSubmit}\n        >\n          <h2 className=\"auth__title\"> Вход</h2>\n          <input\n            type=\"email\"\n            className=\"auth__input\"\n            name=\"email\"\n            placeholder=\"Email\"\n            required\n            minLength=\"2\"\n            maxLength=\"40\"\n            autoComplete=\"off\"\n            id=\"name\"\n            value={email || \"\"}\n            onChange={handleInputEmail}\n          />\n          <span className=\"auth__text-error\" id=\"email-error\"></span>\n          <input\n            type=\"password\"\n            className=\"auth__input \"\n            name=\"password\"\n            placeholder=\"Пароль\"\n            required\n            minLength=\"2\"\n            maxLength=\"40\"\n            autoComplete=\"off\"\n            id=\"password\"\n            value={password || \"\"}\n            onChange={handleInputPassword}\n          />\n          <span className=\"auth__text-error\" id=\"password-error\"></span>\n          <button\n            className=\"auth__button\"\n            type=\"submit\"\n            aria-label=\"кнопка регистрации\"\n          >\n            Войти\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\n\nfunction Register({ register }) {\n  const [email, setEmail] = React.useState(\"\");\n  const handleInputEmail = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const [password, setPassword] = React.useState(\"\");\n  const handleInputPassword = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    register({\n      password,\n      email,\n    });\n    setEmail(\"\");\n    setPassword(\"\");\n  };\n\n  return (\n    <div className=\"auth\">\n      <div className=\"auth__wrapper\">\n        <form\n          className=\"auth__form\"\n          name=\"auth__form\"\n          noValidate\n          onSubmit={handleSubmit}\n        >\n          <h2 className=\"auth__title\">Регистрация </h2>\n          <input\n            type=\"email\"\n            className=\"auth__input\"\n            name=\"email\"\n            placeholder=\"Email\"\n            required\n            minLength=\"2\"\n            maxLength=\"40\"\n            autoComplete=\"off\"\n            id=\"name\"\n            value={email || \"\"}\n            onChange={handleInputEmail}\n          />\n          <span className=\"auth__text-error\" id=\"email-error\"></span>\n          <input\n            type=\"password\"\n            className=\"auth__input \"\n            name=\"password\"\n            placeholder=\"Пароль\"\n            required\n            minLength=\"2\"\n            maxLength=\"40\"\n            autoComplete=\"off\"\n            id=\"password\"\n            value={password || \"\"}\n            onChange={handleInputPassword}\n          />\n          <span className=\"auth__text-error\" id=\"password-error\"></span>\n          <button\n            className=\"auth__button\"\n            type=\"submit\"\n            aria-label=\"кнопка регистрации\"\n          >\n            Зарегистрироваться\n          </button>\n          <p>\n            Уже зарегистрированы?{\" \"}\n            <a\n              className=\"auth__button-enter\"\n              type=\"submit\"\n              aria-label=\"кнопка перехода\"\n              href=\"/sign-in\"\n            >\n              Войти\n            </a>\n          </p>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Register;\n","import React from \"react\";\nimport { Navigate } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ loggedIn, children }) => {\n  return loggedIn ? children : <Navigate to=\"./sign-in\" />;\n};\n\nexport default ProtectedRoute;\n","class Api {\n  constructor({ url, headers }) {\n    this._url = url;\n    this._headers = headers;\n  }\n  _checkResponse(res) {\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res}`);\n  }\n\n  getCards(token) {\n    this._headers.authorization = `Bearer ${token}`;\n\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers,\n      credentials: \"include\",\n      mode: \"cors\",\n    })\n      .then((res) => this._checkResponse(res))\n      .then((data) => data);\n  }\n\n  getUserInfo(token) {\n    this._headers.authorization = `Bearer ${token}`;\n\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers,\n      credentials: \"include\",\n      mode: \"cors\",\n    }).then((res) => this._checkResponse(res));\n  }\n\n  setCardLike(cardId, token) {\n    this._headers.authorization = `Bearer ${token}`;\n\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: \"PUT\",\n      headers: this._headers,\n\n      credentials: \"include\",\n      mode: \"cors\",\n    }).then((res) => this._checkResponse(res));\n  }\n\n  removeCardLike(cardId, token) {\n    this._headers.authorization = `Bearer ${token}`;\n\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n      credentials: \"include\",\n      mode: \"cors\",\n    }).then((res) => this._checkResponse(res));\n  }\n  changeUserInfo({ name, about }, token) {\n    this._headers.authorization = `Bearer ${token}`;\n\n    return fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      credentials: \"include\",\n      mode: \"cors\",\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    }).then((res) => this._checkResponse(res));\n  }\n  //Добавление карточки\n  insertCard({ name, link }, token) {\n    this._headers.authorization = `Bearer ${token}`;\n\n    return fetch(`${this._url}/cards `, {\n      method: \"POST\",\n      headers: this._headers,\n      credentials: \"include\",\n      mode: \"cors\",\n\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    }).then((res) => this._checkResponse(res));\n  }\n  //Удаление карточки\n  deleteCard(cardId, token) {\n    this._headers.authorization = `Bearer ${token}`;\n\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n      credentials: \"include\",\n      mode: \"cors\",\n    }).then((res) => this._checkResponse(res));\n  }\n  updateUserAvatar(avatar, token) {\n    this._headers.authorization = `Bearer ${token}`;\n\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      credentials: \"include\",\n      mode: \"cors\",\n      body: JSON.stringify({\n        avatar,\n      }),\n    }).then((res) => this._checkResponse(res));\n  }\n  changeLikeCardStatus(cardId, notLiked, token) {\n    if (notLiked) {\n      return this.setCardLike(cardId, token);\n    } else {\n      return this.removeCardLike(cardId, token);\n    }\n  }\n}\n\nconst api = new Api({\n  url: \"https://api.andrey.students.nomoredomains.work\",\n  headers: {\n    // authorization: \"328ef2cf-f132-4d2f-959f-88c97b356965\",\n    authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n    \"Content-Type\": \"application/json\",\n    Accept: \"application/json\",\n    Origin: \"*\",\n  },\n});\n\nexport default api;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","export const AUTH_URL = \"https://api.andrey.students.nomoredomains.work\";\n\nexport const register = ({ password, email }) => {\n  return fetch(`${AUTH_URL}/signup`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\",\n      Origin: \"*\",\n    },\n    mode: \"cors\",\n    credentials: \"include\",\n    body: JSON.stringify({ password, email }),\n  })\n    .then((response) => {\n      try {\n        if (response.status === 201) {\n          return response.json();\n        }\n      } catch (e) {\n        return { e, message: \"некорректно заполнено одно из полей\" };\n      }\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const login = ({ password, email }) => {\n  return fetch(`${AUTH_URL}/signin`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\",\n      Origin: \"*\",\n    },\n    mode: \"cors\",\n    credentials: \"include\",\n    body: JSON.stringify({ password, email }),\n  })\n    .then((response) => {\n      try {\n        if (response.status === 200) {\n          return response.json();\n        }\n      } catch (e) {\n        return e;\n      }\n    })\n\n    .catch((err) => console.log(err));\n};\n\nexport const tokenValidate = (token) => {\n  return fetch(`${AUTH_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n      Origin: \"*\",\n    },\n    mode: \"cors\",\n    credentials: \"include\",\n  })\n    .then((res) => res.json())\n    .then((data) => data)\n    .catch((err) => console.log(err));\n};\n","import React from \"react\";\nimport { useEffect } from \"react\";\nimport {\n  Route,\n  Routes,\n  useNavigate,\n  useLocation,\n  Navigate,\n} from \"react-router-dom\";\n\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport InfoToolTip from \"./InfoToolTip\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { tokenValidate, register, login } from \"../utils/auth\";\n\nfunction App() {\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [email, setEmail] = React.useState(\"\");\n\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  useEffect(() => {\n    handleTokenCheck(\"/\");\n  }, []);\n  //Запрос данных с сервера\n  useEffect(() => {\n    // handleTokenCheck(location.pathname);\n    console.log(\"location.pathname\", location.pathname);\n    if (loggedIn) {\n      Promise.all([\n        api.getUserInfo(localStorage.getItem(\"jwt\")),\n        api.getCards(localStorage.getItem(\"jwt\")),\n      ])\n        .then(([dataProfile, dataUser]) => {\n          console.log(\"useEffecr\", dataUser);\n          setCurrentUser(dataProfile);\n          setCards(dataUser);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }, [loggedIn]);\n\n  const handleTokenCheck = (path) => {\n    if (localStorage.getItem(\"jwt\")) {\n      const token = localStorage.getItem(\"jwt\");\n      // проверяем токен пользователя\n      tokenValidate(token)\n        .then((res) => {\n          if (res) {\n            setLoggedIn(true);\n            navigate(path);\n\n            setEmail(res.email);\n          }\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n\n  const handleLogin = ({ password, email }) => {\n    login({\n      password,\n      email,\n    })\n      .then((res) => {\n        if (res) {\n          localStorage.setItem(\"jwt\", res.token);\n\n          setLoggedIn(true);\n          setEmail(email);\n\n          navigate(\"/\");\n        } else {\n          setIsSuccess(false);\n          setisInfoToolTipOpen(true);\n        }\n      })\n      .catch((err) => {\n        setIsSuccess(false);\n        setisInfoToolTipOpen(true);\n        console.log(err);\n      });\n  };\n\n  const handleLogout = (evt) => {\n    evt.preventDefault();\n\n    localStorage.removeItem(\"jwt\");\n    setLoggedIn(false);\n    navigate(\"/login\");\n  };\n\n  //функция обновления данных User\n\n  const handleUpdateUser = ({ name, about }) => {\n    api\n      .changeUserInfo({ name, about }, localStorage.getItem(\"jwt\"))\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  //функция обновления данных avatar\n\n  const handleUpdateAvatar = ({ avatar }) => {\n    api\n      .updateUserAvatar(avatar, localStorage.getItem(\"jwt\"))\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  //Обработчики кликов\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  };\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  };\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  };\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  };\n\n  //Добавление карточки\n  const handleAddPlaceSubmit = (data) => {\n    api\n      .insertCard(data, localStorage.getItem(\"jwt\"))\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  //лайк на карточке\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    api\n      .changeLikeCardStatus(card._id, !isLiked, localStorage.getItem(\"jwt\"))\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // Удаление карточки\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id, localStorage.getItem(\"jwt\"))\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  //стейты\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\n    React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\n    React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isInfoToolTipOpen, setisInfoToolTipOpen] = React.useState(false);\n  const [isSuccess, setIsSuccess] = React.useState(false);\n\n  //Закртыие попапов\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setisInfoToolTipOpen(false);\n    setSelectedCard({});\n  };\n\n  //хук закрытия\n  const useClosePopupByEscape = (isOpen) => {\n    const closeByEsc = (e) => {\n      if (e.key === \"Escape\") {\n        closeAllPopups();\n      }\n    };\n    useEffect(() => {\n      if (isOpen) {\n        document.addEventListener(\"keydown\", closeByEsc);\n        return () => document.removeEventListener(\"keydown\", closeByEsc);\n      }\n    }, [isOpen]);\n  };\n  const useClosePopup = (\n    overlayClassName,\n    closeButtonClassName,\n    onClose,\n    isOpen\n  ) => {\n    const handleClose = (e) => {\n      if (\n        e.target.classList.contains(overlayClassName /*\"popup_opened\"*/) ||\n        e.target.classList.contains(closeButtonClassName /*\"popup__exit\"*/)\n      ) {\n        onClose();\n      }\n    };\n    useEffect(() => {\n      if (isOpen) {\n        document.addEventListener(\"click\", handleClose);\n        return (e) => {\n          document.removeEventListener(\"click\", handleClose);\n        };\n      }\n    }, [isOpen]);\n  };\n\n  const handleRegister = ({ password, email }) => {\n    register({\n      password,\n      email,\n    })\n      .then((res) => {\n        if (res) {\n          setIsSuccess(true);\n          setisInfoToolTipOpen(true);\n          navigate(\"/\");\n        } else {\n          setIsSuccess(false);\n          setisInfoToolTipOpen(true);\n        }\n      })\n      .catch((err) => {\n        setIsSuccess(false);\n        setisInfoToolTipOpen(true);\n        console.log(err);\n      });\n  };\n  console.log(\">>>>>>>>>\", loggedIn, currentUser);\n\n  return (\n    <CurrentUserContext.Provider value={{ currentUser }}>\n      <div className=\"page\">\n        <div className=\"wrapper\">\n          <Header\n            loggedIn={loggedIn}\n            location={location.pathname}\n            onLogout={handleLogout}\n            email={email}\n          />\n          <Routes>\n            <Route\n              path=\"/sign-up\"\n              element={<Register register={handleRegister} />}\n            />\n            <Route path=\"/sign-in\" element={<Login login={handleLogin} />} />\n            <Route\n              exact\n              path=\"/\"\n              element={\n                <ProtectedRoute loggedIn={loggedIn}>\n                  <Main\n                    onEditProfile={handleEditProfileClick}\n                    onAddPlace={handleAddPlaceClick}\n                    onEditAvatar={handleEditAvatarClick}\n                    onCardClick={handleCardClick}\n                    onCardLike={handleCardLike}\n                    onCardDelete={handleCardDelete}\n                    currentUser={currentUser}\n                    cards={cards}\n                  />\n                </ProtectedRoute>\n              }\n            />\n            <Route path=\"*\" element={<Navigate to=\"/\" />} />\n          </Routes>\n\n          <Footer />\n        </div>\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          useClosePopup={useClosePopup}\n          useClosePopupByEscape={useClosePopupByEscape}\n          onUpdateUser={handleUpdateUser}\n          currentUser={currentUser}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          useClosePopup={useClosePopup}\n          useClosePopupByEscape={useClosePopupByEscape}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          useClosePopup={useClosePopup}\n          useClosePopupByEscape={useClosePopupByEscape}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n        <InfoToolTip\n          isOpen={isInfoToolTipOpen}\n          onClose={closeAllPopups}\n          useClosePopup={useClosePopup}\n          useClosePopupByEscape={useClosePopupByEscape}\n          isSuccess={isSuccess}\n        />\n\n        {/* <PopupWithForm\n            name=\"submit\"\n            title=\"Вы уверены\"\n            isOpen={isRemovePlacePopupOpen}\n            onClose={closeAllPopups}\n            useClosePopup={useClosePopup}\n            useClosePopupByEscape={useClosePopupByEscape}\n          >\n            <button\n              className=\"popup__button popup__button_type_submit\"\n              type=\"submit\"\n              aria-label=\"кнопка Удаление\"\n            >\n              Да\n            </button>\n          </PopupWithForm> */}\n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups}\n          useClosePopup={useClosePopup}\n          useClosePopupByEscape={useClosePopupByEscape}\n          isOpen={Boolean(Object.keys(selectedCard).length)}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport { BrowserRouter } from \"react-router-dom\";\n// import reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n"],"sourceRoot":""}